<?xml version="1.0" encoding="ISO-8859-1" ?>

<!DOCTYPE form-validation PUBLIC
          "-//Apache Software Foundation//DTD Commons Validator Rules Configuration 1.1//EN"
          "http://jakarta.apache.org/commons/dtds/validator_1_1.dtd">
<form-validation>
	<global>
		<validator name="email"
			classname="org.megatome.frame2.validator.CommonsFieldValidator"
			method="validateEmail"
			methodParams="java.lang.Object,
                       org.apache.commons.validator.ValidatorAction,
                       org.megatome.frame2.errors.Errors,
                       org.apache.commons.validator.Field"
			msg="tag.question">
		</validator>

		<validator name="required"
			classname="org.megatome.frame2.validator.CommonsFieldValidator"
			method="validateRequired"
			methodParams="java.lang.Object,
                       org.apache.commons.validator.ValidatorAction,
                       org.megatome.frame2.errors.Errors,
                       org.apache.commons.validator.Field"
			msg="tag.question">
		</validator>

		<validator name="mask"
			classname="org.megatome.frame2.validator.CommonsFieldValidator"
			method="mask"
			methodParams="java.lang.Object,
                       org.apache.commons.validator.ValidatorAction,
                       org.megatome.frame2.errors.Errors,
                       org.apache.commons.validator.Field"
			msg="tag.question" />

		<validator name="byte"
			classname="org.megatome.frame2.validator.CommonsFieldValidator"
			method="validateByte"
			methodParams="java.lang.Object,
                       org.apache.commons.validator.ValidatorAction,
                       org.megatome.frame2.errors.Errors,
                       org.apache.commons.validator.Field"
			msg="tag.question">
		</validator>

		<validator name="short"
			classname="org.megatome.frame2.validator.CommonsFieldValidator"
			method="validateShort"
			methodParams="java.lang.Object,
                       org.apache.commons.validator.ValidatorAction,
                       org.megatome.frame2.errors.Errors,
                       org.apache.commons.validator.Field"
			msg="tag.question">
		</validator>

		<validator name="integer"
			classname="org.megatome.frame2.validator.CommonsFieldValidator"
			method="validateInteger"
			methodParams="java.lang.Object,
                       org.apache.commons.validator.ValidatorAction,
                       org.megatome.frame2.errors.Errors,
                       org.apache.commons.validator.Field"
			msg="tag.question">
		</validator>

		<validator name="long"
			classname="org.megatome.frame2.validator.CommonsFieldValidator"
			method="validateLong"
			methodParams="java.lang.Object,
                       org.apache.commons.validator.ValidatorAction,
                       org.megatome.frame2.errors.Errors,
                       org.apache.commons.validator.Field"
			msg="tag.question">
		</validator>

		<validator name="float"
			classname="org.megatome.frame2.validator.CommonsFieldValidator"
			method="validateFloat"
			methodParams="java.lang.Object,
                       org.apache.commons.validator.ValidatorAction,
                       org.megatome.frame2.errors.Errors,
                       org.apache.commons.validator.Field"
			msg="tag.question">
		</validator>

		<validator name="double"
			classname="org.megatome.frame2.validator.CommonsFieldValidator"
			method="validateDouble"
			methodParams="java.lang.Object,
                       org.apache.commons.validator.ValidatorAction,
                       org.megatome.frame2.errors.Errors,
                       org.apache.commons.validator.Field"
			msg="tag.question">
		</validator>

		<validator name="date"
			classname="org.megatome.frame2.validator.CommonsFieldValidator"
			method="validateDate"
			methodParams="java.lang.Object,
                       org.apache.commons.validator.ValidatorAction,
                       org.megatome.frame2.errors.Errors,
                       org.apache.commons.validator.Field"
			msg="tag.question">
		</validator>

		<validator name="intRange"
			classname="org.megatome.frame2.validator.CommonsFieldValidator"
			method="validateIntRange"
			methodParams="java.lang.Object,
                       org.apache.commons.validator.ValidatorAction,
                       org.megatome.frame2.errors.Errors,
                       org.apache.commons.validator.Field"
			msg="tag.question.with.two.parms">
		</validator>

		<validator name="floatRange"
			classname="org.megatome.frame2.validator.CommonsFieldValidator"
			method="validateFloatRange"
			methodParams="java.lang.Object,
                       org.apache.commons.validator.ValidatorAction,
                       org.megatome.frame2.errors.Errors,
                       org.apache.commons.validator.Field"
			msg="tag.question.with.two.parms">
		</validator>

		<validator name="doubleRange"
			classname="org.megatome.frame2.validator.CommonsFieldValidator"
			method="validateDoubleRange"
			methodParams="java.lang.Object,
                       org.apache.commons.validator.ValidatorAction,
                       org.megatome.frame2.errors.Errors,
                       org.apache.commons.validator.Field"
			msg="tag.question.with.two.parms">
		</validator>

		<validator name="creditCard"
			classname="org.megatome.frame2.validator.CommonsFieldValidator"
			method="validateCreditCard"
			methodParams="java.lang.Object,
                       org.apache.commons.validator.ValidatorAction,
                       org.megatome.frame2.errors.Errors,
                       org.apache.commons.validator.Field"
			msg="tag.question">
		</validator>

		<validator name="minLength"
			classname="org.megatome.frame2.validator.CommonsFieldValidator"
			method="validateMinLength"
			methodParams="java.lang.Object,
                       org.apache.commons.validator.ValidatorAction,
                       org.megatome.frame2.errors.Errors,
                       org.apache.commons.validator.Field"
			msg="tag.question.with.parm">
		</validator>

		<validator name="maxLength"
			classname="org.megatome.frame2.validator.CommonsFieldValidator"
			method="validateMaxLength"
			methodParams="java.lang.Object,
                       org.apache.commons.validator.ValidatorAction,
                       org.megatome.frame2.errors.Errors,
                       org.apache.commons.validator.Field"
			msg="tag.question.with.parm">
		</validator>

		<validator name="twofields"
			classname="org.megatome.frame2.validator.CommonsFieldValidator"
			method="validateTwoFields"
			methodParams="java.lang.Object,
                       org.apache.commons.validator.ValidatorAction,
                       org.megatome.frame2.errors.Errors,
                       org.apache.commons.validator.Field"
			msg="tag.question.with.parm">
		</validator>

		<validator name="requiredif"
			classname="org.megatome.frame2.validator.CommonsFieldValidator"
			method="validateRequiredIf"
			methodParams="java.lang.Object,
                       org.apache.commons.validator.ValidatorAction,
                       org.megatome.frame2.errors.Errors,
                       org.apache.commons.validator.Field"
			msg="tag.question">
		</validator>
		
		<!-- mask rules -->
		<constant>
			<constant-name>phone</constant-name>
			<constant-value>
				^\(?(\d{3})\)?[-| ]?(\d{3})[-| ]?(\d{4})$
			</constant-value>
		</constant>
		<constant>
			<constant-name>zip</constant-name>
			<constant-value>^\d{5}\d*$</constant-value>
		</constant>
		<constant>
			<constant-name>zip-5</constant-name>
			<constant-value>^\d{5}(-\d{4})?$</constant-value>
		</constant>

	</global>
	<formset>
		<form name="testEmailFieldBean">
			<field property="email" depends="email">
				<arg0 key="tag.prepend" />
			</field>
		</form>
		<form name="testRequiredFieldBean">
			<field property="required" depends="required">
				<arg0 key="tag.prepend" />
			</field>
		</form>

		<form name="testMaskFieldBean">
			<field property="phone" depends="mask">
				<arg0 key="tag.prepend" />
				<var>
					<var-name>mask</var-name>
					<var-value>${phone}</var-value>
				</var>
			</field>
		</form>

		<form name="testByteFieldBean">
			<field property="byte" depends="byte">
				<arg0 key="tag.prepend" />
			</field>
		</form>

		<form name="testShortFieldBean">
			<field property="short" depends="short">
				<arg0 key="tag.prepend" />
			</field>
		</form>

		<form name="testIntegerFieldBean">
			<field property="integer" depends="integer">
				<arg0 key="tag.prepend" />
			</field>
		</form>

		<form name="testLongFieldBean">
			<field property="long" depends="long">
				<arg0 key="tag.prepend" />
			</field>
		</form>

		<form name="testFloatFieldBean">
			<field property="float" depends="float">
				<arg0 key="tag.prepend" />
			</field>
		</form>

		<form name="testDoubleFieldBean">
			<field property="double" depends="double">
				<arg0 key="tag.prepend" />
			</field>
		</form>

		<form name="testDateFieldBean">
			<field property="date" depends="date">
				<arg0 key="tag.prepend" />
				<var>
					<var-name>datePattern</var-name>
					<var-value>MM/dd/yyyy</var-value>
				</var>
			</field>
		</form>

		<form name="testStrictDateFieldBean">
			<field property="date" depends="date">
				<arg0 key="tag.prepend" />
				<var>
					<var-name>datePatternStrict</var-name>
					<var-value>MM/dd/yyyy</var-value>
				</var>
			</field>
		</form>

		<form name="testIntRangeFieldBean">
			<field property="integer" depends="integer,intRange">
				<arg0 key="tag.prepend" />
				<arg1 name="intRange" key="${var:min}" resource="false" />
				<arg2 name="intRange" key="${var:max}" resource="false" />
				<var>
					<var-name>min</var-name>
					<var-value>5</var-value>
				</var>
				<var>
					<var-name>max</var-name>
					<var-value>20</var-value>
				</var>
			</field>
		</form>

		<form name="testFloatRangeFieldBean">
			<field property="float" depends="float,floatRange">
				<arg0 key="tag.prepend" />
				<arg1 name="floatRange" key="${var:min}"
					resource="false" />
				<arg2 name="floatRange" key="${var:max}"
					resource="false" />
				<var>
					<var-name>min</var-name>
					<var-value>-1.00</var-value>
				</var>
				<var>
					<var-name>max</var-name>
					<var-value>37.88</var-value>
				</var>
			</field>
		</form>

		<form name="testDoubleRangeFieldBean">
			<field property="double" depends="double,doubleRange">
				<arg0 key="tag.prepend" />
				<arg1 name="doubleRange" key="${var:min}"
					resource="false" />
				<arg2 name="doubleRange" key="${var:max}"
					resource="false" />
				<var>
					<var-name>min</var-name>
					<var-value>-1.00</var-value>
				</var>
				<var>
					<var-name>max</var-name>
					<var-value>37.88</var-value>
				</var>
			</field>
		</form>
		<form name="testCreditCardFieldBean">
			<field property="creditCard" depends="creditCard">
				<arg0 key="tag.prepend" />
			</field>
		</form>

		<form name="testMaxLengthFieldBean">
			<field property="maxLength" depends="maxLength">
				<arg0 key="tag.prepend" />
				<arg1 name="maxlength" key="${var:maxlength}"
					resource="false" />
				<var>
					<var-name>maxlength</var-name>
					<var-value>5</var-value>
				</var>
			</field>
		</form>

		<form name="testMinLengthFieldBean">
			<field property="minLength" depends="minLength">
				<arg0 key="tag.prepend" />
				<arg1 name="minlength" key="${var:minlength}"
					resource="false" />
				<var>
					<var-name>minlength</var-name>
					<var-value>3</var-value>
				</var>
			</field>
		</form>
		<form name="testTwoFieldBean">
			<field property="twoField1" depends="twofields">
				<arg0 key="tag.prepend" />
				<arg1 key="tag.append" />
				<var>
					<var-name>secondProperty</var-name>
					<var-value>twoField2</var-value>
				</var>
			</field>
		</form>

		<form name="testRequiredIfNullBean">
			<field property="required" depends="requiredif">
				<arg0 key="tag.prepend" />
				<var>
					<var-name>field[0]</var-name>
					<var-value>twoField1</var-value>
				</var>
				<var>
					<var-name>fieldTest[0]</var-name>
					<var-value>NULL</var-value>
				</var>
			</field>
		</form>

		<form name="testRequiredIfNotNullBean">
			<field property="required" depends="requiredif">
				<arg0 key="tag.prepend" />
				<var>
					<var-name>field[0]</var-name>
					<var-value>twoField1</var-value>
				</var>
				<var>
					<var-name>fieldTest[0]</var-name>
					<var-value>NOTNULL</var-value>
				</var>
			</field>
		</form>

		<form name="testRequiredIfEqualBean">
			<field property="required" depends="requiredif">
				<arg0 key="tag.prepend" />
				<var>
					<var-name>field[0]</var-name>
					<var-value>twoField1</var-value>
				</var>
				<var>
					<var-name>fieldTest[0]</var-name>
					<var-value>EQUAL</var-value>
				</var>
				<var>
					<var-name>fieldValue[0]</var-name>
					<var-value>value</var-value>
				</var>
			</field>
		</form>
	</formset>
</form-validation>

